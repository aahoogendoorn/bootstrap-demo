<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:composite="http://java.sun.com/jsf/composite"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
        >

    <!-- INTERFACE -->
    <composite:interface componentType="nl.klaverblad.components.OptionGroup">
        <composite:attribute name="options" type="java.lang.Object" shortDescription="Collectie van items, gaat default uit van SelectItems"/>
        <composite:attribute name="label" type="java.lang.String" />
        <composite:attribute name="value" type="java.lang.Object" />
        <composite:attribute name="itemLabel" type="java.lang.String" default="#{option.label}"/>
        <composite:attribute name="itemValue" type="java.lang.String" default="#{option.value}"/>
        <composite:facet name="buttons"/>
    </composite:interface>

    <!-- IMPLEMENTATION -->
    <composite:implementation>
        <div class="form-group">
            <label jsfc="h:outputLabel" for="#{cc.clientId}:options" rendered="#{not empty cc.attrs.label}">#{cc.attrs.label}</label>
            <div id="#{cc.clientId}:options">
                <div class="radio input-group" jsfc="ui:repeat" value="#{cc.attrs.options}" var="option" varStatus="status">
                    <span jsfc="h:panelGroup"  rendered="#{cc.optionValue eq cc.attrs.value}">
                        <input type="radio" name="#{cc.clientId}" id="#{cc.clientId}:#{status.index}" checked="checked"
                           onclick="#{rich:jQuery('hidden')}.val($(this).val())" value="#{cc.optionValue}"/>

                        <label for="#{cc.clientId}:#{status.index}">
                            <h:outputText value="#{cc.optionLabel}" />
                        </label>
                    </span>
                    <span jsfc="h:panelGroup"  rendered="#{cc.optionValue ne cc.attrs.value}">
                        <input type="radio" name="#{cc.clientId}" id="#{cc.clientId}:#{status.index}" value="#{cc.optionValue}"
                            onclick="#{rich:jQuery('hidden')}.val($(this).val())"/>
                        <label for="#{cc.clientId}:#{status.index}">
                            <h:outputText value="#{cc.optionLabel}" />
                        </label>
                    </span>

                    <span class="input-group-btn" jsfc="h:panelGroup" rendered="#{not empty cc.facets.buttons}">
                      <composite:renderFacet name="buttons"/>
                   </span>
                </div>
                <h:inputHidden value="#{cc.attrs.value}" id="hidden" />
            </div>
        </div>
    </composite:implementation>
</ui:composition>